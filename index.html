<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KRN - Kamaran Pshdari</title>
    <meta name="description" content="پەڕەی فەرمی کامەران پشدەری">
    <meta property="og:image" content="me.jpg">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    
    <style>
        /* --- ڕێکخستنی گشتی --- */
        :root {
            --bg-color: #0f0c29;
            --card-bg: rgba(255, 255, 255, 0.05);
            --text-color: #fff;
            --text-sec: #ccc;
            --accent: #00C6FF;
            --gold: #FFD700;
            --action-bg: rgba(0, 0, 0, 0.3);
            --action-icon: #fff;
        }

        /* --- Updated Global Styles (No Copy/Select) --- */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Noto Kufi Arabic', sans-serif; 
            -webkit-tap-highlight-color: transparent; 
            scroll-behavior: smooth; 
            transition: background-color 0.8s ease, color 0.5s ease;
            
            /* Anti-Copy Styles */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }

        input, textarea {
            -webkit-user-select: text !important;
            user-select: text !important;
        }

        body {
            background-color: var(--bg-color);
            min-height: 100vh;
            display: flex; justify-content: center; align-items: flex-start;
            padding: 70px 15px 40px 15px; 
            color: var(--text-color); overflow-x: hidden; position: relative;
        }

        /* --- Confetti Canvas --- */
        #confetti-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 99999;
        }

        /* --- 1. PRELOADER (ROYAL STYLE) --- */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #1a1a1a 0%, #000000 100%);
            z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 1.5s ease-out, visibility 1.5s;
        }
        .loader-content {
            text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;
            width: 90%;
        }
        
        .welcome-text {
            font-size: 2.2rem;
            font-weight: 900;
            color: #ffffff;
            letter-spacing: 0px;
            margin-bottom: 5px;
            text-transform: uppercase;
            text-shadow: 0 0 25px rgba(255, 255, 255, 0.5);
            background: linear-gradient(to bottom, #ffffff, #b3b3b3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0; transform: translateY(-30px);
            animation: fadeInDownWelcome 1.2s cubic-bezier(0.19, 1, 0.22, 1) forwards 0.2s;
        }
        
        .loader-logo {
            font-size: 5.5rem;
            font-weight: 900; 
            letter-spacing: 10px;
            margin: 10px 0;
            opacity: 0; 
            transform: scale(0.5);
            background: linear-gradient(90deg, #00C6FF 0%, #00C6FF 40%, #FFD700 50%, #00C6FF 60%, #00C6FF 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 25px rgba(0, 198, 255, 0.6));
            animation: 
                scaleInLogo 1.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards 0.6s,
                shineText 3s linear infinite 2s;
        }

        .loader-subtitle {
            font-size: 1.8rem;
            font-weight: 900;
            color: #FFD700;
            letter-spacing: 1px;
            margin-top: 15px;
            padding: 10px 25px;
            border: 2px solid rgba(255, 215, 0, 0.4);
            border-radius: 50px;
            background: rgba(255, 215, 0, 0.05);
            box-shadow: 0 0 35px rgba(255, 215, 0, 0.3);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            opacity: 0; transform: translateY(30px);
            animation: fadeInUpSubtitle 1.2s cubic-bezier(0.19, 1, 0.22, 1) forwards 1.2s;
        }

        .loader-subtitle::before { display: none; }

        @keyframes fadeInDownWelcome { to { opacity: 1; transform: translateY(0); } }
        @keyframes scaleInLogo { to { opacity: 1; transform: scale(1); } }
        @keyframes fadeInUpSubtitle { to { opacity: 1; transform: translateY(0); } }
        @keyframes shineText { to { background-position: 200% center; } }
        
        .hide-preloader { opacity: 0; visibility: hidden; pointer-events: none; }

        /* Background */
        .background-orb { position: fixed; border-radius: 50%; filter: blur(80px); z-index: -1; opacity: 0.6; animation: floatOrb 15s infinite alternate ease-in-out; }
        .orb-1 { width: 300px; height: 300px; background: #ff00cc; top: -50px; left: -50px; }
        .orb-2 { width: 400px; height: 400px; background: #333399; bottom: -100px; right: -100px; animation-delay: -5s; }
        @keyframes floatOrb { 0% { transform: translate(0, 0) scale(1); } 100% { transform: translate(30px, 50px) scale(1.1); } }

        .card {
            background: var(--card-bg);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px; 
            padding: 30px 25px 45px 25px;
            width: 100%; max-width: 420px; text-align: center;
            box-shadow: 0 25px 50px rgba(0,0,0,0.1);
            margin-bottom: 20px; position: relative;
            overflow: hidden;
        }

        /* --- Scroll Down Indicator --- */
        .scroll-down-indicator {
            position: fixed;
            bottom: 30px;
            right: 30px; 
            left: auto;  
            transform: none;
            z-index: 900;
            background-color: #FFD700;
            color: #000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            border: 2px solid white;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            animation: bounceDown 2s infinite;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
        }
        .scroll-down-indicator.show { opacity: 1; }
        
        @keyframes bounceDown {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        /* --- Guide / Tutorial Animation Styles --- */
        .guide-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 9990; 
            pointer-events: none; 
            display: none; 
        }
        .guide-container.active { display: block; }

        .guide-finger {
            position: absolute;
            font-size: 1.8rem;
            color: #fff;
            filter: drop-shadow(0 2px 5px rgba(0,0,0,0.5));
            transition: top 0.4s ease-out, left 0.4s ease-out;
            z-index: 9992;
            animation: fingerTap 1s infinite;
        }
        @keyframes fingerTap {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-5px) scale(0.9); }
        }

        .guide-tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: #FFD700; 
            padding: 4px 12px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: bold;
            border: 1px solid #FFD700;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 9991;
            box-shadow: 0 5px 15px rgba(0,0,0,0.6);
            transform: translateX(-50%);
        }
        .guide-tooltip.show { opacity: 1; }
        .guide-tooltip::before {
            content: ''; position: absolute; top: -5px; left: 50%; transform: translateX(-50%);
            border-width: 0 5px 5px 5px; border-style: solid; border-color: transparent transparent #FFD700 transparent;
        }

        /* Active Button Highlight */
        .action-btn.guide-highlight {
            transform: scale(1.3) !important;
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 25px currentColor;
        }
        .action-btn:nth-child(1).guide-highlight { color: #ff00cc !important; }
        .action-btn:nth-child(2).guide-highlight { color: #00C6FF !important; }
        .action-btn:nth-child(3).guide-highlight { color: #FFD700 !important; }
        .action-btn:nth-child(4).guide-highlight { color: #34A853 !important; }

        /* --- Live Sales Notification --- */
        .sales-notification {
            position: fixed;
            top: -100px; 
            left: 50%;
            transform: translateX(-50%);
            background: rgba(20, 20, 20, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-bottom: 3px solid #00C6FF;
            backdrop-filter: blur(10px);
            padding: 8px 15px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 5000;
            transition: top 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            width: 90%;
            max-width: 320px;
            direction: rtl;
        }
        .sales-notification.active { top: 10px; }
        
        .sales-icon-box {
            width: 35px; height: 35px;
            background: rgba(0, 198, 255, 0.15);
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            color: #00C6FF; font-size: 1rem;
            flex-shrink: 0;
        }
        .sales-content { display: flex; flex-direction: column; gap: 2px; width: 100%; }
        .sales-text { font-size: 0.8rem; color: #fff; line-height: 1.3; text-align: right; }
        .sales-time { font-size: 0.65rem; color: #aaa; text-align: right; }
        .verified-badge { color: #25D366; font-size: 0.7rem; margin-right: 3px; }

        /* Custom Alert */
        .custom-alert {
            position: fixed; top: 25px; left: 50%; transform: translate(-50%, -100px);
            background: rgba(20, 20, 20, 0.9); backdrop-filter: blur(8px);
            color: #fff; padding: 8px 20px; border-radius: 30px;
            font-size: 0.8rem; font-weight: normal;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            display: flex; align-items: center; gap: 8px; z-index: 3000;
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
            border: 1px solid rgba(255, 80, 80, 0.4); opacity: 0; pointer-events: none;
        }
        .custom-alert.show { transform: translate(-50%, 0); opacity: 1; }
        .custom-alert i { color: #ff5050; font-size: 0.9rem; }
        @keyframes shakeInput { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
        .input-error { border: 1px solid #ff5050 !important; animation: shakeInput 0.3s ease-in-out; }

        /* Scroll Reveal */
        .reveal { opacity: 0; transform: translateY(50px); transition: all 1.5s cubic-bezier(0.19, 1, 0.22, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* Smart Greeting */
        .smart-greeting {
            font-size: 1.1rem; color: var(--accent); margin-bottom: 20px; font-weight: 900;
            text-shadow: 0 0 10px rgba(0, 198, 255, 0.4); animation: fadeInDown 2s ease;
        }
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }

        .welcome-marquee {
            width: 100%; height: 45px; background: rgba(0, 198, 255, 0.15);
            border: 1px solid rgba(0, 198, 255, 0.3); border-radius: 15px;
            margin-bottom: 15px; box-shadow: 0 0 15px rgba(0, 198, 255, 0.2);
            position: relative; overflow: hidden;
        }
        .marquee-content {
            position: absolute; top: 50%; transform: translateY(-50%);
            white-space: nowrap; width: max-content; color: var(--text-color); font-weight: 700;
            font-size: 0.9rem; text-shadow: 0 0 5px rgba(0, 198, 255, 0.8);
            animation: moveLeftToRight 20s linear infinite;
        }
        @keyframes moveLeftToRight { 0% { left: 0; transform: translate(-100%, -50%); } 100% { left: 100%; transform: translate(0%, -50%); } }

        /* Action Bar */
        .action-bar {
            position: relative; margin: 25px auto 10px auto; display: flex; justify-content: center;
            gap: 15px; background: var(--action-bg); padding: 12px 20px;
            border-radius: 50px; border: 1px solid rgba(255, 255, 255, 0.1); width: fit-content;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 5;
        }
        .action-btn { 
            font-size: 1.2rem; color: var(--action-icon); cursor: pointer; transition: 0.3s; 
            display: flex; align-items: center; justify-content: center; text-decoration: none; 
            width: 35px; height: 35px;
            animation: btnScaleOnly 4s infinite ease-in-out;
        }
        @keyframes btnScaleOnly { 0%, 100% { transform: scale(1); } 50% { transform: scale(var(--target-scale)); } }
        .action-btn:nth-child(1) { animation-delay: 0s; --target-scale: 1.1; }
        .action-btn:nth-child(2) { animation-delay: 0.3s; --target-scale: 1.15; }
        .action-btn:nth-child(3) { animation-delay: 0.6s; --target-scale: 1.2; }
        .action-btn:nth-child(4) { animation-delay: 0.9s; --target-scale: 1.25; }
        .action-btn:nth-child(5) { animation-delay: 1.2s; --target-scale: 1.3; }
        .action-btn:hover { color: var(--accent); transform: scale(1.2) !important; animation-play-state: paused; }
        .music-playing { color: #00ff00 !important; }

        /* --- Neon Ring Profile --- */
        .profile-img-container {
            width: 150px; height: 150px; margin: 0 auto 25px; border-radius: 50%; 
            position: relative; z-index: 1; display: flex; justify-content: center; align-items: center;
            background: rgba(0,0,0,0.5);
        }
        .profile-img-container::before {
            content: ''; position: absolute; inset: -4px; border-radius: 50%;
            background: conic-gradient(#00C6FF, #FFD700, #ff00cc, #00C6FF);
            animation: rotateBorder 4s linear infinite; z-index: -1;
        }
        .profile-img-container::after {
            content: ''; position: absolute; inset: -4px; border-radius: 50%;
            background: inherit; filter: blur(20px); opacity: 0.7; z-index: -2;
            animation: rotateBorder 4s linear infinite;
        }
        .profile-img-container.music-active::before,
        .profile-img-container.music-active::after { animation-duration: 1.5s; filter: blur(25px); }
        @keyframes rotateBorder { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .profile-img { 
            width: 140px; height: 140px; border-radius: 50%; object-fit: cover; 
            border: 4px solid #1a1a1a; position: absolute; 
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        .default-img { opacity: 1; z-index: 2; transform: scale(1); }
        .music-img { opacity: 0; z-index: 3; transform: scale(0) rotate(-180deg); }
        .profile-img-container.music-active .default-img { opacity: 0; transform: scale(0) rotate(180deg); }
        .profile-img-container.music-active .music-img { opacity: 1; transform: scale(1) rotate(0deg); border-color: #00C6FF; }
        
        .status-pill {
            position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%);
            background: #000; border: 1px solid rgba(255,255,255,0.3);
            padding: 4px 12px; border-radius: 20px; font-size: 0.7rem; font-weight: bold; color: #fff;
            display: flex; align-items: center; gap: 5px; box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            white-space: nowrap; z-index: 10;
        }
        .status-dot { width: 8px; height: 8px; border-radius: 50%; }

        .logo-text {
            font-size: 5rem; font-weight: 900; letter-spacing: 6px;
            background: linear-gradient(to right, #ffffff, #00C6FF, #b3b3b3, #00C6FF, #ffffff);
            background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: shineLogo 6s linear infinite; filter: drop-shadow(0 0 15px rgba(0, 198, 255, 0.6));
            margin-bottom: 0px; margin-top: 5px;
        }
        @keyframes shineLogo { to { background-position: 200% center; } }

        .name-wrapper { margin-bottom: 2px; margin-top: -5px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .name-text {
            font-size: 1.4rem; font-weight: 700; color: var(--accent);
            border-left: 2px solid var(--accent); padding-left: 5px;
        }

        .sub-text-wrapper {
            height: 40px; overflow: hidden; margin-bottom: 20px; margin-top: 0px;
            display: flex; align-items: center; justify-content: center;
        }
        .rotating-text {
            font-size: 1rem; color: var(--text-sec); font-weight: bold; letter-spacing: 1px;
            line-height: 1.5; padding-bottom: 5px;
        }
        .cursor { display: inline-block; width: 2px; height: 16px; background-color: var(--accent); animation: blinkCursor 0.7s infinite; margin-right: 3px; vertical-align: middle; }
        @keyframes blinkCursor { 50% { opacity: 0; } }

        .about-badge {
            display: inline-block; background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1); padding: 8px 20px;
            border-radius: 50px; margin-bottom: 25px; position: relative; overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .about-text { font-size: 0.85rem; color: var(--text-sec); font-weight: 400; }
        .about-badge::after { content: ''; display: block; width: 50%; height: 2px; background: linear-gradient(90deg, transparent, #FFD700, transparent); margin: 2px auto 0; border-radius: 2px; }

        .product-showcase {
            position: relative;
            width: 100%;
            margin-bottom: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .slider-container {
            width: 100%;
            overflow-x: auto;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
            display: flex;
            gap: 15px;
            scroll-behavior: smooth;
            scrollbar-width: none;
            padding: 5px;
        }
        .slider-container::-webkit-scrollbar { display: none; }
        .slide-img { 
            min-width: 100%; 
            height: 200px; 
            object-fit: cover; 
            cursor: pointer; 
            border-radius: 15px;
            transition: transform 0.5s ease;
        }
        .slider-controls {
            display: flex; align-items: center; justify-content: center; gap: 20px;
            background: rgba(255, 255, 255, 0.05); padding: 8px 20px; border-radius: 50px;
            width: fit-content; margin: 0 auto; border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .slider-btn {
            width: 40px; height: 40px; border-radius: 50%; background: transparent;
            border: 1px solid rgba(0, 198, 255, 0.3); color: #fff; font-size: 1.1rem;
            display: flex; justify-content: center; align-items: center; cursor: pointer; transition: all 0.3s ease;
        }
        .slider-btn:hover { background: #00C6FF; color: #000; box-shadow: 0 0 15px #00C6FF; border-color: #00C6FF; }
        .slider-divider {
            width: 2px; height: 25px; background: rgba(255, 255, 255, 0.1); position: relative;
            border-radius: 2px; box-shadow: 0 0 5px #00C6FF; background-color: #00C6FF;
        }

        .quick-msg-box {
            background: var(--card-bg); padding: 15px; border-radius: 15px; margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1); display: flex; gap: 10px; flex-direction: column;
        }
        .quick-msg-input { width: 100%; padding: 12px; border-radius: 10px; border: none; background: rgba(0,0,0,0.3); color: white; outline: none; text-align: right; transition: 0.3s; }
        .quick-msg-btn { background: #25D366; color: white; padding: 10px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .quick-msg-btn:hover { background: #1ebc57; }

        /* --- UPDATED REVIEWS SECTION (ONE BY ONE FADE) --- */
        .reviews-section { margin-bottom: 35px; text-align: right; position: relative; min-height: 250px; }
        .reviews-title { font-size: 1rem; color: var(--text-sec); margin-bottom: 15px; padding-right: 10px; border-right: 3px solid #00C6FF; }
        
        /* New Container for Fade Effect */
        .reviews-scroll { 
            position: relative; 
            width: 100%; 
            height: 180px; /* Fixed height for slideshow */
            overflow: hidden; 
        }

        .review-card { 
            position: absolute; 
            top: 0; left: 0; 
            width: 100%; 
            height: 100%;
            background: rgba(255,255,255,0.08); 
            border: 1px solid rgba(255,255,255,0.1); 
            border-radius: 15px; 
            padding: 15px; 
            display: flex; 
            flex-direction: column; 
            gap: 8px; 
            justify-content: center;
            opacity: 0; 
            transform: translateX(30px); /* Start slightly off-screen */
            transition: all 0.8s ease-in-out;
            pointer-events: none; /* Ignore clicks on hidden cards */
        }

        /* Active Class for Showing */
        .review-card.active-review {
            opacity: 1; 
            transform: translateX(0);
            pointer-events: all;
            z-index: 2;
        }

        .review-header { display: flex; justify-content: space-between; align-items: center; }
        .stars { color: #FFD700; font-size: 0.8rem; }
        .review-text { font-size: 0.9rem; color: var(--text-sec); line-height: 1.6; font-weight: bold; }
        .review-author { font-size: 0.8rem; color: var(--accent); font-weight: bold; text-align: left; margin-top: 5px; }

        .swipe-hint {
            position: absolute; top: 60%; left: 50%; transform: translate(-50%, -50%);
            pointer-events: none; z-index: 10; opacity: 0.8; animation: swipeHand 2s infinite ease-in-out;
            background: rgba(0,0,0,0.5); padding: 15px; border-radius: 50%; color: white; font-size: 1.5rem; transition: opacity 0.3s;
        }
        @keyframes swipeHand {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
        }

        .social-links { display: flex; flex-direction: column; gap: 12px; margin-bottom: 35px; }
        @keyframes popOutColor {
            0%, 100% { transform: scale(1); z-index: 1; background: rgba(30, 30, 30, 0.6); border-color: rgba(255,255,255,0.05); color: #fff; }
            50% { transform: scale(1.08); z-index: 10; box-shadow: 0 10px 25px var(--brand-shadow); background: var(--brand-bg); border-color: var(--brand-bg); color: var(--brand-text); }
        }
        .link-btn {
            display: flex; align-items: center; justify-content: space-between; text-decoration: none; padding: 16px 22px; border-radius: 18px;
            color: white; font-weight: bold; font-size: 1rem; transition: all 0.5s ease; border: 1px solid rgba(255,255,255,0.05);
            background: rgba(30, 30, 30, 0.6); position: relative; overflow: hidden; animation: popOutColor 5s infinite ease-in-out; --brand-text: #fff; 
        }
        .social-links .link-btn:nth-child(1) { animation-delay: 0s; }
        .social-links .link-btn:nth-child(2) { animation-delay: 0.3s; }
        .social-links .link-btn:nth-child(3) { animation-delay: 0.6s; }
        .social-links .link-btn:nth-child(4) { animation-delay: 0.9s; }
        .social-links .link-btn:nth-child(5) { animation-delay: 1.2s; }
        .social-links .link-btn:nth-child(6) { animation-delay: 1.5s; }
        .save-contact { --brand-bg: linear-gradient(90deg, #FFD700, #FDB931); --brand-shadow: rgba(255, 215, 0, 0.4); --brand-text: #000; }
        .phone-call { --brand-bg: linear-gradient(90deg, #11998e, #38ef7d); --brand-shadow: rgba(56, 239, 125, 0.4); }
        .whatsapp { --brand-bg: #25D366; --brand-shadow: rgba(37, 211, 102, 0.4); }
        .facebook { --brand-bg: #1877f2; --brand-shadow: rgba(24, 119, 242, 0.4); }
        .instagram { --brand-bg: linear-gradient(45deg, #f09433, #dc2743, #bc1888); --brand-shadow: rgba(220, 39, 67, 0.4); }
        .tiktok { --brand-bg: #000000; --brand-shadow: rgba(255, 255, 255, 0.4); border-color: rgba(255,255,255,0.2); }
        .link-btn:hover { transform: translateY(-3px) scale(1.03); animation-play-state: paused; z-index: 20; background: var(--brand-bg); border-color: var(--brand-bg); color: var(--brand-text); box-shadow: 0 10px 25px var(--brand-shadow); }

        .faq-section { text-align: center; margin-top: 10px; }
        .faq-title { font-size: 1.1rem; margin-bottom: 20px; color: var(--text-color); text-align: center; position: relative; display: inline-block; }
        .faq-title::after { content: ''; display: block; width: 40px; height: 3px; background: #00C6FF; margin: 5px auto 0; border-radius: 2px; }
        .faq-item { margin-bottom: 12px; border-radius: 18px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05); overflow: hidden; transition: 0.5s; text-align: right; }
        .faq-item.active { background: rgba(30, 30, 35, 0.9); border-color: rgba(0, 198, 255, 0.5); }
        .faq-question { padding: 16px 20px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-size: 0.95rem; font-weight: bold; color: var(--text-color); line-height: 1.5; }
        .faq-question span { flex: 1; margin-left: 10px; word-wrap: break-word; }
        .faq-icon { transition: 0.3s; color: #666; flex-shrink: 0; }
        .faq-item.active .faq-icon { transform: rotate(180deg); color: #00C6FF; }
        .faq-answer { max-height: 0; overflow: hidden; transition: 0.5s ease; background: rgba(0,0,0,0.2); }
        .faq-answer p { padding: 0 20px 20px; color: var(--text-sec); font-size: 0.85rem; line-height: 1.7; text-align: right; }

        /* --- Footer Styles --- */
        .footer { margin-top: 50px; padding-bottom: 20px; display: flex; flex-direction: column; align-items: center; gap: 15px; text-align: center; }
        
        .shake-hint-text {
            color: #FFD700; font-size: 0.85rem; font-weight: bold;
            display: flex; align-items: center; gap: 8px; margin-bottom: 5px;
            animation: fadeInDown 2s ease;
        }
        .shake-icon { font-size: 1.2rem; animation: shakeIcon 2s infinite; }
        @keyframes shakeIcon {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-15deg); }
            75% { transform: rotate(15deg); }
        }

        .footer-content {
            display: flex; flex-direction: column; align-items: center; gap: 8px;
            background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 15px 25px; border-radius: 20px; backdrop-filter: blur(5px);
        }
        .dev-label { font-size: 0.7rem; color: #888; font-family: 'Montserrat', sans-serif; letter-spacing: 1px; }
        .sarkar-tech {
            font-family: 'Montserrat', sans-serif; font-weight: 700; font-size: 0.95rem;
            background: linear-gradient(90deg, #fff, #00C6FF); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            letter-spacing: 0.5px;
        }
        .tg-link {
            display: inline-flex; align-items: center; gap: 6px;
            color: #fff; background: #24A1DE; padding: 6px 14px; border-radius: 50px;
            font-size: 0.8rem; text-decoration: none; font-family: 'Montserrat', sans-serif; font-weight: bold;
            box-shadow: 0 4px 10px rgba(36, 161, 222, 0.3); transition: 0.3s;
        }
        .tg-link:hover { transform: translateY(-2px); box-shadow: 0 6px 15px rgba(36, 161, 222, 0.5); background: #2fb4f5; }
        .view-count { background: rgba(255,255,255,0.1); padding: 2px 8px; border-radius: 10px; font-size: 0.7rem; color: var(--text-sec); }

        .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px); background: rgba(0, 198, 255, 0.9); color: black; padding: 12px 25px; border-radius: 50px; font-weight: bold; box-shadow: 0 10px 20px rgba(0,0,0,0.5); transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); z-index: 100; opacity: 0; pointer-events: none; }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

        .scroll-top-btn {
            position: fixed; bottom: 25px; right: 25px; width: 45px; height: 45px;
            background: var(--bg-color); color: var(--text-color); border-radius: 50%; 
            display: flex; justify-content: center; align-items: center;
            font-size: 1.2rem; cursor: pointer; box-shadow: 0 0 20px rgba(0,0,0,0.2); 
            opacity: 0; pointer-events: none; transition: all 0.4s; z-index: 999; transform: translateY(20px);
        }
        .scroll-top-btn.active { opacity: 1; pointer-events: all; transform: translateY(0); }
        .scroll-top-btn:hover { transform: scale(1.1); }
        .progress-ring { position: absolute; top: 0; left: 0; transform: rotate(-90deg); }
        .progress-ring__circle { transition: 0.3s stroke-dashoffset; }

        .lightbox { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); display: flex; justify-content: center; align-items: center; z-index: 2000; opacity: 0; pointer-events: none; transition: 0.5s; }
        .lightbox.active { opacity: 1; pointer-events: all; }
        .lightbox img { max-width: 90%; max-height: 80vh; border-radius: 10px; box-shadow: 0 0 30px rgba(255,255,255,0.2); transform: scale(0.8); transition: 0.5s; }
        .lightbox.active img { transform: scale(1); }
        .close-lightbox { position: absolute; top: 20px; right: 20px; font-size: 2rem; color: white; cursor: pointer; }

        .qr-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: 0.5s; z-index: 1000; }
        .qr-modal.active { opacity: 1; pointer-events: all; }
        .qr-box { background: white; padding: 20px; border-radius: 20px; text-align: center; color: black; box-shadow: 0 0 50px rgba(0, 198, 255, 0.5); transform: scale(0.8); transition: 0.5s; }
        .qr-modal.active .qr-box { transform: scale(1); }
        .qr-image { width: 200px; height: 200px; margin-bottom: 10px; }
        .close-qr { margin-top: 10px; background: #333; color: white; border: none; padding: 8px 20px; border-radius: 10px; cursor: pointer; }
    </style>
</head>
<body>

    <div id="preloader">
        <div class="loader-content">
            <div class="welcome-text">بەخێربێن بۆ</div>
            <div class="loader-logo">K R N</div>
            <div class="loader-subtitle">بڕاندە ترێندەکە</div>
        </div>
    </div>

    <div class="scroll-down-indicator" id="scrollDownHint">
        <i class="fas fa-chevron-down"></i>
    </div>

    <div class="guide-container" id="guideContainer">
        <div class="guide-finger" id="guideFinger"><i class="fas fa-hand-pointer"></i></div>
        <div class="guide-tooltip" id="guideTooltip">...</div>
    </div>

    <canvas id="confetti-canvas"></canvas>

    <div class="background-orb orb-1"></div>
    <div class="background-orb orb-2"></div>

    <audio id="bgAudio" loop hidden>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div class="scroll-top-btn" id="scrollTopBtn" onclick="scrollToTop()">
        <svg class="progress-ring" width="45" height="45">
            <circle class="progress-ring__circle" stroke="#00C6FF" stroke-width="3" fill="transparent" r="20" cx="22.5" cy="22.5" stroke-dasharray="125.6" stroke-dashoffset="125.6"/>
        </svg>
        <i class="fas fa-chevron-up"></i>
    </div>

    <div class="custom-alert" id="customAlert">
        <i class="fas fa-exclamation-circle"></i>
        <span id="alertText">تکایە سەرەتا نامەیەک بنووسە!</span>
    </div>

    <div class="lightbox" id="lightbox">
        <span class="close-lightbox" onclick="closeLightbox()">×</span>
        <img id="lightbox-img" src="" alt="Full Image">
    </div>

    <div class="sales-notification" id="salesNotification">
        <div class="sales-icon-box">
            <i class="fas fa-shopping-bag"></i>
        </div>
        <div class="sales-content">
            <div class="sales-text" id="salesText"></div>
            <div class="sales-time" id="salesTime"></div>
        </div>
    </div>

    <div class="card">
        
        <div class="welcome-marquee">
            <span class="marquee-content" id="marqueeText">بەخێربێن دووکانمان سەعات 9:00 بەیانی کراوەیە تاکو 10:30 شەو</span>
        </div>

        <div class="smart-greeting" id="smartGreeting"></div>

        <div class="profile-img-container" id="profileContainer">
            <img src="me.jpg" alt="Kamaran Pshdari" class="profile-img default-img" onerror="this.src='https://via.placeholder.com/150'">
            <img src="logo2.jpg" alt="Music Logo" class="profile-img music-img" onerror="this.src='https://via.placeholder.com/150'">
            
            <div class="status-pill" id="statusPill">
                <div class="status-dot"></div>
                <span id="statusText">...</span>
            </div>
        </div>

        <div class="action-bar" id="actionBar">
            <div class="action-btn" id="musicBtn" onclick="toggleMusic()" title="Music On/Off"><i class="fas fa-music"></i></div>
            <div class="action-btn" onclick="shareOrCopy()" title="شەیرکردن"><i class="fas fa-share-alt"></i></div>
            <div class="action-btn" onclick="toggleQR()" title="QR Code"><i class="fas fa-qrcode"></i></div>
            <a href="https://maps.app.goo.gl/XYZ123" target="_blank" class="action-btn" title="کردنەوەی نەخشە"><i class="fas fa-map-marker-alt"></i></a>
        </div>

        <div class="logo-text">KRN</div>
        
        <div class="name-wrapper">
            <span class="name-text" id="typing-name"></span>
        </div>

        <div class="sub-text-wrapper">
            <span class="cursor"></span><span class="rotating-text" id="rotatingText"></span>
        </div>

        <div class="about-badge reveal">
            <div class="about-text" style="line-height: 1.8;">
                پەڕەی فەرمی بەرهەمەکانی<br>
                <span style="font-weight: 700; font-size: 0.95rem; color: var(--text-color);">کامەران پشدەری</span>
            </div>
        </div>

        <div class="product-showcase reveal">
            <div class="slider-container" id="sliderContainer">
                <img src="1.jpg" class="slide-img" onclick="openLightbox(this.src)" alt="First Image">
                <img src="2.jpg" class="slide-img" onclick="openLightbox(this.src)" alt="Second Image">
                <img src="3.jpg" class="slide-img" onclick="openLightbox(this.src)" alt="Third Image">
            </div>

            <div class="slider-controls">
                <button class="slider-btn" onclick="scrollSlider(1)">
                    <i class="fas fa-chevron-right"></i>
                </button>
                
                <div class="slider-divider"></div>
                
                <button class="slider-btn" onclick="scrollSlider(-1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>
        </div>
        <div class="quick-msg-box reveal">
            <input type="text" id="quickMsgInput" class="quick-msg-input" placeholder="پرسیارەکەت لێرە بنووسە...">
            <button onclick="sendQuickWhatsapp()" class="quick-msg-btn"><i class="fab fa-whatsapp"></i> ناردن بۆ واتساپ</button>
        </div>

        <div class="social-links reveal">
            <a href="#" onclick="downloadContact()" class="link-btn save-contact">
                <span>پاشەکەوتکردنی ناو</span>
                <i class="fas fa-user-plus"></i>
            </a>
            
            <a href="tel:07508718631" class="link-btn phone-call">
                <span>پەیوەندی بکە</span>
                <i class="fas fa-phone-alt"></i>
            </a>

            <a href="https://wa.me/9647508718631?text=سڵاو دەمەوێت داوای بەرهەمێک بکەم" class="link-btn whatsapp" target="_blank">
                <span>واتساپ</span>
                <i class="fab fa-whatsapp"></i>
            </a>

            <a href="javascript:void(0)" onclick="openSocialWithMsg('https://www.facebook.com/share/16WtuWgNn8/')" class="link-btn facebook">
                <span>فەیسبووک</span>
                <i class="fab fa-facebook-f"></i>
            </a>

            <a href="javascript:void(0)" onclick="openSocialWithMsg('https://www.instagram.com/krn_pshdar')" class="link-btn instagram">
                <span>ئینستاگرام</span>
                <i class="fab fa-instagram"></i>
            </a>

            <a href="javascript:void(0)" onclick="openSocialWithMsg('https://www.tiktok.com/@krn_pshdar')" class="link-btn tiktok">
                <span>تیکتۆک</span>
                <i class="fab fa-tiktok"></i>
            </a>
        </div>

        <div class="reviews-section reveal" id="reviewsSection">
            <div class="reviews-title">فیدباکی مشتەرییەکانمان</div>
            
            <div class="swipe-hint" id="swipeHint">
                <i class="fas fa-hand-pointer"></i>
            </div>

            <div class="reviews-scroll" id="reviewsContainer">
                <div class="review-card active-review">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"شامپۆی قژ هەڵوەرینەکەتان موعجیزەیە، دوای مانگێک هەڵوەرینی قژم بە تەواوی وەستا."</div>
                    <div class="review-author">- هەرێم عەلی</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"غەنە ڕەشەکە زۆر سروشتییە، هەموو سپییەکانی قژمی داپۆشی بەبێ ئەوەی وەک بۆیە دیار بێت."</div>
                    <div class="review-author">- کەژاڵ کەمال</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"سدرەکە زۆر ئەسڵ بوو، کڕێشی سەرم نەما و قژم زۆر بەهێز بووە."</div>
                    <div class="review-author">- دکتۆر خالید</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"مەحجونی ددانەکە زۆر نایابە، زەردی ددانەکانم نەماوە و زۆر سپی بوونەتەوە."</div>
                    <div class="review-author">- سۆما ئەحمەد</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"شامپۆی منداڵانەکە زۆر باشە، چاوی کچەکەم ناکزێنێتەوە و قژی زۆر نەرم کردووە."</div>
                    <div class="review-author">- نیان مەجید</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"غەنە ماڕۆنییەکە ڕەنگێکی زۆر شاز و جیاوازی دایە قژم، دەستخۆش."</div>
                    <div class="review-author">- سۆما ڕەزاق</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"غەنە سوورەکە زۆر جوان دەرچوو، ڕەنگێکی بریقەدار و سەرنجڕاکێشە."</div>
                    <div class="review-author">- لانیا محەمەد</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"بەڕاستی شامپۆی قژەکەتان بێ ڕکابەرە، قژم پڕ بووەتەوە."</div>
                    <div class="review-author">- مامۆستا هیوا</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"غەنە قاوەییەکە زۆر جوانە، ڕێک ئەو ڕەنگە بوو کە دەمویست."</div>
                    <div class="review-author">- نەسرین عەبدوڵا</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"مەحجونی ددانەکە بۆنی دەم زۆر خۆش دەکات و کلۆر ڕادەگرێت."</div>
                    <div class="review-author">- ئاکۆ جەمال</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"سدرەکە بۆ قژی چەور زۆر باشە، چەورییە زیانبەخشەکان لادەبات."</div>
                    <div class="review-author">- دکتۆر سەردار</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"شامپۆی منداڵانەکە بۆنی زۆر خۆشە و هەستیاری بۆ پێستی منداڵ دروست ناکات."</div>
                    <div class="review-author">- چیمەن ئەنوەر</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"غەنە ڕەشەکە زۆر ڕەقەی قژ بەهێز دەکات، جگە لە ڕەنگەکەی."</div>
                    <div class="review-author">- هێرۆ خان</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"شامپۆی دژی قژ هەڵوەرینەکە باشترین چارەسەر بوو بۆ من."</div>
                    <div class="review-author">- بەختیار کەریم</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"هەموو جۆرەکانی غەنەتانم تاقی کردەوە، ماڕۆنییەکە زۆر تایبەتە."</div>
                    <div class="review-author">- ڤیان سەڵاح</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"مەحجونی ددانەکە پووک بەهێز دەکات، خوێنبەربوونی پووکم نەماوە."</div>
                    <div class="review-author">- کاروان عەلی</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"سدرەکە وایکردووە قژم زۆر خاو و جوان بێتەوە."</div>
                    <div class="review-author">- ژیان خەسرەو</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"غەنە سوورەکە زۆر مانەوەی هەیە و زوو کاڵ نابێتەوە."</div>
                    <div class="review-author">- خەندە جەزا</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"شامپۆی منداڵانەکە زۆر بە بەرەکەتە و کوالێتی بەرزە."</div>
                    <div class="review-author">- هێلین عەلی</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"غەنە قاوەییەکە ڕەنگێکی زۆر شیکی هەیە، دەستخۆش."</div>
                    <div class="review-author">- ڕووناک حەسەن</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"شامپۆی قژەکە بۆ ئەو کەسانەی قژیان تەنکە زۆر بەسوودە."</div>
                    <div class="review-author">- ئاریان مستەفا</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"مەحجونی ددانەکەتان تاقانەیە، پەڵەی سەر ددان لادەبات."</div>
                    <div class="review-author">- دکتۆر شادان</div>
                </div>
                <div class="review-card">
                    <div class="review-header"><div class="stars">⭐⭐⭐⭐⭐</div></div>
                    <div class="review-text">"غەنە ڕەشەکە زۆر بە جوانی سپی قژ دادەپۆشێت."</div>
                    <div class="review-author">- پەیمان عەزیز</div>
                </div>
            </div>
        </div>

        <div class="faq-section reveal">
            <h3 class="faq-title">پرسیارەکان</h3>
            <div class="faq-item">
                <div class="faq-question">
                    <span>ناونێشانی دووکانتان لەکوێیە،؟</span>
                    <div class="faq-icon"><i class="fas fa-chevron-down"></i></div>
                </div>
                <div class="faq-answer"><p>سڵاو بەڕێز ناونێشانی دووکانی ئێمە ناوبازاڕی قەڵادزێ جادەی ئاسایشی کۆن بەرانبەر ڕەوزەی ناوبازاڕ</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>چۆن داوای بەرهەمێک بکەم؟</span>
                    <div class="faq-icon"><i class="fas fa-chevron-down"></i></div>
                </div>
                <div class="faq-answer"><p>لە ڕێگەی واتساپ یان پەیوەندی تەلەفۆنییەوە دەتوانیت پەیوەندیمان پێوە بکەیت.</p></div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>گەیاندنتان هەیە،؟</span>
                    <div class="faq-icon"><i class="fas fa-chevron-down"></i></div>
                </div>
                <div class="faq-answer"><p>سڵاو بەڕێز بەڵی گەیاندنمان هەیە بۆسەرجەم شارەکانی کوردستان بێ جیاوازی</p></div>
            </div>
        </div>

        <div class="footer reveal">
            <div class="shake-hint-text">
                <i class="fas fa-mobile-alt shake-icon"></i>
                <span>بۆ پرسیاری خێرا موبایلەکەت ڕاوەشێنە</span>
            </div>
            <div class="footer-content">
                <span class="dev-label">Developed by</span>
                <span class="sarkar-tech">Sarkar Technology</span>
                <a href="https://t.me/sarkar7216" target="_blank" class="tg-link">
                    <i class="fab fa-telegram-plane"></i> sarkar7216
                </a>
            </div>
            <div class="view-count"><i class="fas fa-eye"></i> 1.2k</div>
        </div>
    </div>

    <div class="qr-modal" id="qrModal">
        <div class="qr-box">
            <h3>سکان بکە</h3>
            <img id="qrImage" class="qr-image" src="" alt="QR Code">
            <p>بۆ کردنەوەی ئەم ماڵپەڕە</p>
            <button class="close-qr" onclick="toggleQR()">داخستن</button>
        </div>
    </div>

    <div class="toast" id="toastMsg">لینکەکە کۆپی کرا!</div>

    <script>
        // --- Preloader Logic & Typewriter Sync ---
        const textElement = document.getElementById('typing-name');
        const textToType = "کامەران پشدەری";
        let index = 0;

        function typeWriter() {
            if (index < textToType.length) { 
                textElement.innerHTML += textToType.charAt(index); 
                index++; 
                // Increased speed to 100ms
                setTimeout(typeWriter, 100); 
            }
        }

        function finishLoading() {
            const preloader = document.getElementById('preloader');
            const scrollHint = document.getElementById('scrollDownHint');
            
            if (!preloader.classList.contains('hide-preloader')) {
                preloader.classList.add('hide-preloader');
                // Start typing almost immediately
                setTimeout(typeWriter, 100); 
                // Show scroll hint
                setTimeout(() => {
                    scrollHint.classList.add('show');
                }, 1000);

                // --- 1. Start Guide Tutorial (After 5 Seconds) ---
                setTimeout(() => {
                    startGuideTour();
                }, 5000);

                // --- 2. Start Live Sales Notifications (After 25 Seconds) ---
                setTimeout(() => {
                    initSalesNotifications();
                }, 25000); 
            }
        }

        window.addEventListener('load', () => {
            // Increased initial loading time to 4000ms (4 seconds)
            setTimeout(finishLoading, 4000); 
        });

        // Fallback increased to 4500ms
        setTimeout(finishLoading, 4500);
        // -------------------------

        // --- Rotating Text Logic ---
        const phrases = ["باشترین بەرهەم", "گەیاندنی خێرا", "متمانەی ئێوە", "نرخی گونجاو"];
        const rotateElement = document.getElementById('rotatingText');
        let phraseIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let typeSpeed = 150;

        function typeRotatingText() {
            const currentPhrase = phrases[phraseIndex];
            
            if (isDeleting) {
                rotateElement.innerText = currentPhrase.substring(0, charIndex - 1);
                charIndex--;
                typeSpeed = 80;
            } else {
                rotateElement.innerText = currentPhrase.substring(0, charIndex + 1);
                charIndex++;
                typeSpeed = 150;
            }

            if (!isDeleting && charIndex === currentPhrase.length) {
                isDeleting = true;
                typeSpeed = 2500; // Wait before deleting
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                phraseIndex = (phraseIndex + 1) % phrases.length;
                typeSpeed = 500;
            }

            setTimeout(typeRotatingText, typeSpeed);
        }
        setTimeout(typeRotatingText, 4500);

        // --- Scroll Progress Ring Logic ---
        const circle = document.querySelector('.progress-ring__circle');
        const radius = circle.r.baseVal.value;
        const circumference = radius * 2 * Math.PI;
        circle.style.strokeDasharray = `${circumference} ${circumference}`;
        circle.style.strokeDashoffset = circumference;

        function setProgress(percent) {
            const offset = circumference - percent / 100 * circumference;
            circle.style.strokeDashoffset = offset;
        }

        window.addEventListener('scroll', () => {
            const scrollTop = window.scrollY;
            const docHeight = document.body.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            setProgress(scrollPercent);

            const scrollTopBtn = document.getElementById('scrollTopBtn');
            const scrollDownHint = document.getElementById('scrollDownHint');

            if (scrollTop > 300) {
                scrollTopBtn.classList.add('active');
            } else {
                scrollTopBtn.classList.remove('active');
            }

            // Hide scroll down hint when user scrolls
            if (scrollTop > 50) {
                scrollDownHint.classList.remove('show');
            }
        });

        // --- Lightbox Logic ---
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        function openLightbox(src) { lightboxImg.src = src; lightbox.classList.add('active'); }
        function closeLightbox() { lightbox.classList.remove('active'); }
        lightbox.addEventListener('click', (e) => { if(e.target !== lightboxImg) closeLightbox(); });

        // --- SLIDER LOGIC (Images) ---
        function scrollSlider(direction) {
            const container = document.getElementById('sliderContainer');
            const scrollAmount = container.offsetWidth; 
            container.scrollBy({ left: -direction * scrollAmount, behavior: 'smooth' });
        }
        
        // --- NEW REVIEW SLIDESHOW LOGIC (ONE BY ONE + SCROLL TRIGGER) ---
        const reviewCards = document.querySelectorAll('.review-card');
        const swipeHint = document.getElementById('swipeHint');
        const reviewsContainer = document.getElementById('reviewsContainer');
        let currentReviewIndex = 0;
        let reviewInterval;
        let hasStartedReviews = false;

        function showNextReview() {
            // Remove active class from current
            reviewCards[currentReviewIndex].classList.remove('active-review');
            
            // Increment index
            currentReviewIndex = (currentReviewIndex + 1) % reviewCards.length;
            
            // Add active class to next
            reviewCards[currentReviewIndex].classList.add('active-review');
        }

        function startReviewSlideshow() {
            if (hasStartedReviews) return;
            hasStartedReviews = true;
            
            // Show first one immediately if not already
            reviewCards.forEach(card => card.classList.remove('active-review'));
            reviewCards[0].classList.add('active-review');

            // Change every 4 seconds
            reviewInterval = setInterval(showNextReview, 8000);
        }

        // --- Trigger Reviews ONLY when scrolled into view ---
        const reviewsSection = document.getElementById('reviewsSection');
        const reviewObserver = new IntersectionObserver((entries) => {
            if (entries[0].isIntersecting) {
                startReviewSlideshow();
                reviewObserver.disconnect(); // Only need to trigger once
            }
        }, { threshold: 0.3 }); // Trigger when 30% visible

        reviewObserver.observe(reviewsSection);

        // --- HIDE HINT FOREVER ON CLICK/TOUCH ---
        function hideHintPermanently() {
            swipeHint.style.display = 'none';
        }

        reviewsContainer.addEventListener('click', hideHintPermanently);
        reviewsContainer.addEventListener('touchstart', hideHintPermanently);


        // --- Music Logic (UPDATED) ---
        const bgAudio = document.getElementById('bgAudio');
        const musicBtn = document.getElementById('musicBtn');
        const profileContainer = document.getElementById('profileContainer');
        let isMusicPlaying = false;

        function toggleMusic() {
            if (isMusicPlaying) { 
                bgAudio.pause(); 
                isMusicPlaying = false; 
                musicBtn.classList.remove('music-playing'); 
                musicBtn.innerHTML = '<i class="fas fa-music"></i>';
                profileContainer.classList.remove('music-active');
            } 
            else { 
                bgAudio.play(); 
                isMusicPlaying = true; 
                musicBtn.classList.add('music-playing'); 
                musicBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                profileContainer.classList.add('music-active');
            }
        }
        
        document.body.addEventListener('click', function() { 
            if (!isMusicPlaying) { /* bgAudio.play(); */ } 
        }, { once: true });

        // --- Whatsapp Logic ---
        function sendQuickWhatsapp() {
            const input = document.getElementById('quickMsgInput');
            const alertBox = document.getElementById('customAlert');
            const msg = input.value;
            if(msg.trim() === "") {
                input.classList.add('input-error'); setTimeout(() => { input.classList.remove('input-error'); }, 300);
                alertBox.classList.add('show'); setTimeout(() => { alertBox.classList.remove('show'); }, 3000);
                return;
            }
            const phone = "9647508718631"; 
            const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
            window.open(url, '_blank');
        }

        function shareOrCopy() {
            if (navigator.share) { navigator.share({ title: 'KRN - Kamaran Pshdari', text: 'سەردانی پڕۆفایلی کامەران پشدەری بکە', url: window.location.href }).catch((error) => console.log('Error sharing', error)); } 
            else { copyLink(); }
        }

        // --- Smart Greeting ---
        function updateSmartGreeting() {
            const options = { timeZone: 'Asia/Baghdad', hour: 'numeric', hour12: false };
            const formatter = new Intl.DateTimeFormat([], options);
            const hour = parseInt(formatter.format(new Date()));
            const greetingElement = document.getElementById('smartGreeting');
            let greetingText = "";
            if (hour >= 4 && hour < 12) greetingText = "بەیانیت باش ☀️";
            else if (hour >= 12 && hour < 17) greetingText = "نیوەڕۆت باش 🌤️";
            else if (hour >= 17 && hour < 21) greetingText = "ئێوارەت باش 🌆";
            else greetingText = "شەوت باش 🌙";
            greetingElement.innerText = greetingText;
        }
        updateSmartGreeting();

        // --- Scroll Reveal (Slower) ---
        function revealOnScroll() {
            var reveals = document.querySelectorAll(".reveal");
            for (var i = 0; i < reveals.length; i++) {
                var windowHeight = window.innerHeight;
                var elementTop = reveals[i].getBoundingClientRect().top;
                var elementVisible = 50;
                if (elementTop < windowHeight - elementVisible) { reveals[i].classList.add("active"); }
            }
        }
        window.addEventListener("scroll", revealOnScroll);
        revealOnScroll();

        function updateStatus() {
            const now = new Date();
            const hour = now.getHours();
            const minute = now.getMinutes();
            const totalCurrentMinutes = (hour * 60) + minute;
            const openTime = 9 * 60; const closeTime = (22 * 60) + 30; 
            const pill = document.getElementById('statusPill');
            const dot = pill.querySelector('.status-dot');
            const text = document.getElementById('statusText');
            const marqueeText = document.getElementById('marqueeText');
            const baseMessage = "بەخێربێن دووکانمان سەعات 9:00 بەیانی کراوەیە تاکو 10:30 شەو";
            if (totalCurrentMinutes >= openTime && totalCurrentMinutes < closeTime) {
                text.innerText = "دووکان کراوەیە"; text.style.color = "#fff"; dot.style.background = "#00ff00"; dot.style.boxShadow = "0 0 10px #00ff00";
                marqueeText.innerText = baseMessage + " - ئێستا کراوەیە 🟢";
            } else {
                text.innerText = "دووکان داخراوە"; text.style.color = "#fff"; dot.style.background = "#ff3333"; dot.style.boxShadow = "0 0 10px #ff3333";
                marqueeText.innerText = baseMessage + " - ئێستا دووکان داخراوە 🔴";
            }
        }
        updateStatus(); setInterval(updateStatus, 60000);

        function downloadContact() {
            const name = "Kamaran Pshdari"; const phone = "07508718631"; const email = "info@krn.com";
            const vcard = `BEGIN:VCARD\nVERSION:3.0\nFN:${name}\nTEL;TYPE=CELL:${phone}\nEMAIL:${email}\nEND:VCARD`;
            const blob = new Blob([vcard], { type: "text/vcard" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a"); a.href = url; a.download = "Kamaran_Pshdari.vcf";
            document.body.appendChild(a); a.click(); document.body.removeChild(a);
        }

        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            const answer = item.querySelector('.faq-answer');
            question.addEventListener('click', () => {
                const isActive = item.classList.contains('active');
                faqItems.forEach(otherItem => { otherItem.classList.remove('active'); otherItem.querySelector('.faq-answer').style.maxHeight = null; });
                if (!isActive) { item.classList.add('active'); answer.style.maxHeight = answer.scrollHeight + "px"; }
            });
        });

        function copyLink() {
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                const toast = document.getElementById('toastMsg');
                toast.innerText = "لینکەکە کۆپی کرا!"; toast.classList.add('show'); setTimeout(() => { toast.classList.remove('show'); }, 3000);
            });
        }

        function toggleQR() {
            const modal = document.getElementById('qrModal');
            const qrImage = document.getElementById('qrImage');
            if (!modal.classList.contains('active')) {
                const url = window.location.href; qrImage.src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${url}`;
            }
            modal.classList.toggle('active');
        }

        function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }

        // --- Smart Copy Message Logic (For Social Links) ---
        function openSocialWithMsg(url) {
            const autoMessage = "سڵاو، دەمەوێت دەربارەی کارەکانتان پرسیار بکەم";
            navigator.clipboard.writeText(autoMessage).then(() => {
                const toast = document.getElementById('toastMsg');
                toast.innerText = "نامەکە کۆپی کرا! لە چات پەیستی بکە ✅";
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                    window.open(url, '_blank');
                }, 1500);
            }).catch(err => {
                window.open(url, '_blank');
            });
        }

        // --- Live Sales Notification System ---
        const femaleNames = [
            "سارا", "نیان", "سۆما", "لەنیا", "ڕۆژین", "کەژاڵ", "هێلین", "شیلان", 
            "ئاڵا", "شنۆ", "تارا", "چیمەن", "نەسرین", "لۆنا", "پەیمان", "لانە", 
            "شۆخان", "سازان", "ژیلیا", "سروە", "ئەوین", "ڕۆژان", "دڵنیا", "هەنسک",
            "ئەژین", "تەرزە", "دیمەن", "ڤیان", "ڕووناک", "گەلاوێژ", "شەونم", "سەیران",
            "ناز", "سۆز", "ئارەزوو", "ئەسرین", "چنار", "دڵپاک", "فێنک", "گوڵاڵە",
            "هانا", "ئیمان", "جوان", "خەون", "لەیلا", "مریەم", "نیشتیمان", "پەرژین"
        ];
        
        const maleNames = [
            "ئەحمەد", "عەلی", "کاروان", "هەرێم", "محەمەد", "ڕێبین", "دیاری", "ئارام",
            "سەردار", "بەڵێن", "زانا", "هێمن", "ڕەوا", "بەختیار", "ئاکۆ", "سۆران",
            "عومەر", "هیوا", "دڵشاد", "کامەران", "بارزان", "سەڵاح", "نەوزاد", "مستەفا",
            "ئاسۆ", "بێستون", "چیا", "دانا", "فەرهاد", "گۆران", "هەڵکەوت", "ئیبراهیم",
            "جەمال", "کاوە", "لێزان", "مەریوان", "ناسر", "پێشەوا", "ڕێبوار", "سیروان",
            "توانا", "وشیار", "یاسین", "زانیار", "ئەژی", "بڕوا", "چەتۆ", "دەرباز"
        ];
        
        const cities = [
            "لە سلێمانی", "لە هەولێر", "لە دهۆک", "لە کەرکوک", "لە هەڵەبجە", 
            "لە ڕانیە", "لە قەڵادزێ", "لە کەلار", "لە سۆران", "لە چەمچەماڵ",
            "لە زاخۆ", "لە کۆیە", "لە دەربەندیخان", "لە سەیدسادق", "لە کفری",
            "لە ئاکرێ", "لە شەقڵاوە", "لە حاجیاوا", "لە دوکان", "لە پێنجوێن"
        ];
        
        const actions = [
            "شامپۆی قژی کڕی", "غەنەی ڕەشی داواکرد", "سێتی غەنەی برد", "مەحجونی ددانی کڕی", 
            "شامپۆی منداڵانی کڕی", "سدری ئەسڵی داواکرد", "غەنەی ماڕۆنی کڕی", "غەنەی قاوەیی برد",
            "داواکارییەکەی گەیشت", "پاکێجی چارەسەری قژی کڕی"
        ];

        const times = ["ئێستا", "پێش ١ خولەک", "پێش ٢ خولەک", "پێش ٥ خولەک", "پێش ١٠ خولەک", "پێش کەمێک"];

        function showRandomNotification() {
            const notification = document.getElementById('salesNotification');
            const textEl = document.getElementById('salesText');
            const timeEl = document.getElementById('salesTime');
            
            const randomAction = actions[Math.floor(Math.random() * actions.length)];
            const randomCity = cities[Math.floor(Math.random() * cities.length)];
            const randomTime = times[Math.floor(Math.random() * times.length)];
            
            let randomName = "";
            
            if (randomAction.includes("غەنە")) {
                randomName = femaleNames[Math.floor(Math.random() * femaleNames.length)];
            } else {
                const allNames = femaleNames.concat(maleNames);
                randomName = allNames[Math.floor(Math.random() * allNames.length)];
            }
            
            textEl.innerHTML = `<strong>${randomName}</strong> ${randomCity} <br> ${randomAction} <i class="fas fa-check-circle verified-badge"></i>`;
            timeEl.innerText = randomTime;
            
            notification.classList.add('active');
            
            setTimeout(() => {
                notification.classList.remove('active');
            }, 4000);
        }

        function initSalesNotifications() {
            showRandomNotification();
            setInterval(() => {
                showRandomNotification();
            }, Math.floor(Math.random() * (15000 - 8000 + 1) + 8000));
        }

        // --- NEW: GUIDE / TUTORIAL SYSTEM (Interactive - AUTO SCROLL FIX) ---
        function startGuideTour() {
            const actionBar = document.getElementById('actionBar');
            if (!actionBar) return;
            
            const buttons = actionBar.children; 
            
            const steps = [
                { el: buttons[3], text: "لۆکەیشن" }, 
                { el: buttons[2], text: "بارکۆد" },  
                { el: buttons[1], text: "ناردن" }, 
                { el: buttons[0], text: "قورئان" }    
            ];

            const guideContainer = document.getElementById('guideContainer');
            const finger = document.getElementById('guideFinger');
            const tooltip = document.getElementById('guideTooltip');
            
            guideContainer.classList.add('active');

            let currentStep = 0;

            function showStep() {
                if (currentStep >= steps.length) {
                    guideContainer.classList.remove('active');
                    return;
                }

                const step = steps[currentStep];
                
                // IMPORTANT: Force the screen to scroll to the element being highlighted
                step.el.scrollIntoView({behavior: "smooth", block: "center"});
                
                // Wait for scroll to finish (Increased delay for long scrolls)
                setTimeout(() => {
                    const rect = step.el.getBoundingClientRect();
                    
                    // 1. Move Finger to position (Using Viewport Coordinates since container is fixed)
                    const topPos = rect.top + (rect.height / 2) - 10; 
                    const leftPos = rect.left + (rect.width / 2) - 10; 

                    finger.style.top = `${topPos}px`;
                    finger.style.left = `${leftPos}px`;

                    // 2. Wait for finger to arrive (400ms), then activate button + tooltip
                    setTimeout(() => {
                        step.el.classList.add('guide-highlight');

                        const tooltipTop = rect.bottom + 8; // Viewport relative
                        const tooltipLeft = rect.left + (rect.width / 2); 
                        
                        tooltip.style.top = `${tooltipTop}px`;
                        tooltip.style.left = `${tooltipLeft}px`;
                        tooltip.innerText = step.text;
                        tooltip.classList.add('show');

                        // 3. Hold for 1.2s, then reset and move
                        setTimeout(() => {
                            step.el.classList.remove('guide-highlight');
                            tooltip.classList.remove('show');
                            currentStep++;
                            setTimeout(showStep, 400); 
                        }, 1200); 

                    }, 400); // Wait for transition
                }, 800); // Wait 800ms for Scroll
            }

            showStep();
        }

        // --- SMART INTERACTION: CONFETTI & VIBRATION ---
        function triggerVibration() {
            if (navigator.vibrate) {
                navigator.vibrate(40); 
            }
        }

        const allButtons = document.querySelectorAll('button, .action-btn, .link-btn, .slide-img');
        allButtons.forEach(btn => {
            btn.addEventListener('click', triggerVibration);
        });

        // 2. Confetti Logic
        const confettiCanvas = document.getElementById('confetti-canvas');
        const ctx = confettiCanvas.getContext('2d');
        confettiCanvas.width = window.innerWidth;
        confettiCanvas.height = window.innerHeight;

        let particles = [];
        const colors = ['#00C6FF', '#FFD700', '#ff00cc', '#ffffff', '#25D366'];

        function createParticles() {
            for (let i = 0; i < 100; i++) {
                particles.push({
                    x: window.innerWidth / 2, 
                    y: window.innerHeight / 2,
                    w: Math.random() * 10 + 5,
                    h: Math.random() * 10 + 5,
                    vx: (Math.random() - 0.5) * 20, 
                    vy: (Math.random() - 0.5) * 20,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    speed: Math.random() * 0.1 + 0.9,
                    rotation: Math.random() * 360
                });
            }
        }

        function drawConfetti() {
            ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            
            particles.forEach((p, index) => {
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.rotation * Math.PI / 180);
                ctx.fillStyle = p.color;
                ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
                ctx.restore();

                p.x += p.vx;
                p.y += p.vy;
                p.vy += 0.5; 
                p.vx *= 0.96; 
                p.vy *= 0.96;
                p.rotation += 5;

                if (p.y > window.innerHeight) particles.splice(index, 1);
            });

            if (particles.length > 0) requestAnimationFrame(drawConfetti);
        }

        function fireConfetti() {
            createParticles();
            drawConfetti();
        }

        const waBtn = document.querySelector('.whatsapp');
        if(waBtn) waBtn.addEventListener('click', fireConfetti);
        
        const shareBtn = document.querySelectorAll('.action-btn')[1]; 
        if(shareBtn) shareBtn.addEventListener('click', fireConfetti);

        const originalCopyLink = copyLink;
        copyLink = function() {
            originalCopyLink();
            fireConfetti();
        };
        
        window.addEventListener('resize', () => {
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
        });

        document.addEventListener('contextmenu', event => event.preventDefault());
        document.ondragstart = function() { return false; };

        // --- SHAKE TO CHAT ---
        let shakeThreshold = 800; 
        let lastX = 0, lastY = 0, lastZ = 0;
        let lastShakeUpdate = 0;
        let isShakeCoolingDown = false; 

        window.addEventListener('devicemotion', (event) => {
            if(isShakeCoolingDown) return;

            let acceleration = event.accelerationIncludingGravity;
            if(!acceleration) return;

            let curTime = new Date().getTime();

            if ((curTime - lastShakeUpdate) > 100) {
                let diffTime = curTime - lastShakeUpdate;
                lastShakeUpdate = curTime;

                let x = acceleration.x;
                let y = acceleration.y;
                let z = acceleration.z;

                let speed = Math.abs(x + y + z - lastX - lastY - lastZ) / diffTime * 10000;

                if (speed > shakeThreshold) {
                    performShakeAction();
                }

                lastX = x;
                lastY = y;
                lastZ = z;
            }
        });

        function performShakeAction() {
            isShakeCoolingDown = true;
            
            if(navigator.vibrate) navigator.vibrate([100, 50, 100]);

            const toast = document.getElementById('toastMsg');
            toast.innerText = "کردنەوەی چات... 📲";
            toast.classList.add('show');

            if(typeof fireConfetti === 'function') fireConfetti();

            setTimeout(() => {
                toast.classList.remove('show');
                window.location.href = "https://wa.me/9647508718631?text=سڵاو مامۆستا کامەران";
                setTimeout(() => { isShakeCoolingDown = false; }, 3000);
            }, 1500);
        }

    </script>
</body>
</html>
